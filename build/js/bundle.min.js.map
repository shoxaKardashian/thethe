{"version":3,"sources":["1_glow_effect.js","2_responsiveTabs.js","99_main.js"],"names":["elements","document","querySelectorAll","forEach","element","console","log","value","window","navigator","userAgent","indexOf","getWebGLContext","canvas","params","alpha","depth","stencil","antialias","gl","getContext","isWebGL2","halfFloat","getExtension","support_linear_float","clearColor","ext","internalFormat","RGBA16F","RGBA","internalFormatRG","RG16F","formatRG","RG","texType","HALF_FLOAT","HALF_FLOAT_OES","pointerPrototype","this","id","x","y","dx","dy","down","moved","color","compileShader","type","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","initFramebuffers","textureWidth","drawingBufferWidth","config","TEXTURE_DOWNSAMPLE","textureHeight","drawingBufferHeight","iFormat","iFormatRG","density","createDoubleFBO","LINEAR","NEAREST","velocity","divergence","createFBO","curl","pressure","texId","w","h","format","param","activeTexture","TEXTURE0","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","fbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","viewport","clear","COLOR_BUFFER_BIT","fbo1","fbo2","first","second","swap","temp","update","resizeCanvas","dt","Math","min","Date","now","lastTime","splatStack","length","m","pop","random","width","height","splat","advectionProgram","bind","uniform2f","uniforms","texelSize","uniform1i","uVelocity","uSource","uniform1f","dissipation","VELOCITY_DISSIPATION","blit","DENSITY_DISSIPATION","i","len","pointers","pointer","curlProgram","vorticityProgram","uCurl","CURL","divergenceProgram","clearProgram","pressureTexId","uTexture","PRESSURE_DISSIPATION","pressureProgram","uDivergence","_i","PRESSURE_ITERATIONS","uPressure","gradienSubtractProgram","displayProgram","requestAnimationFrame","splatProgram","uTarget","aspectRatio","point","uniform3f","radius","SPLAT_RADIUS","clientWidth","clientHeight","getElementsByTagName","_getWebGLContext","push","GLProgram","vertexShader","fragmentShader","TypeError","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniformCount","ACTIVE_UNIFORMS","uniformName","getActiveUniform","name","getUniformLocation","prototype","useProgram","baseVertexShader","VERTEX_SHADER","clearShader","FRAGMENT_SHADER","displayShader","splatShader","advectionManualFilteringShader","advectionShader","divergenceShader","curlShader","vorticityShader","pressureShader","gradientSubtractShader","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","Float32Array","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","destination","drawElements","TRIANGLES","UNSIGNED_SHORT","count","colorArr","addEventListener","e","offsetX","offsetY","preventDefault","touches","targetTouches","identifier","pageX","pageY","t","init","n","removeEventListener","d","u","E","trails","spring","a","o","f","running","globalCompositeOperation","fillStyle","fillRect","strokeStyle","round","l","lineWidth","draw","frame","requestAnimFrame","s","innerWidth","innerHeight","r","clientX","clientY","friction","size","dampening","tension","phase","offset","frequency","amplitude","sin","vy","vx","nodes","beginPath","moveTo","quadraticCurveTo","stroke","closePath","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","onload","getElementById","PI","body","$","undefined","defaults","active","event","disabled","collapsible","startCollapsed","rotate","setHash","animation","animationQueue","duration","fluidHeight","scrollToAccordion","scrollToAccordionOnLoad","scrollToAccordionOffset","accordionTabElement","navigationContainer","click","activate","deactivate","load","activateState","classes","stateDefault","stateActive","stateDisabled","stateExcluded","container","ul","tab","anchor","panel","accordionTitle","ResponsiveTabs","options","$element","tabs","state","rotateInterval","$queue","extend","_this","_loadElements","_loadClasses","_loadEvents","on","_setState","_equaliseHeights","tabRef","_getTabRefBySelector","location","hash","oTab","_getTab","_ignoreHashChange","_openTab","startRotation","call","startTab","_getStartTab","trigger","$ul","children","find","addClass","each","$anchor","$panel","$accordionTab","$accordionAnchor","panelSelector","$tab","hasClass","attr","insertBefore","html","appendTo","inArray","selector","accordionTab","accordionAnchor","removeClass","fActivate","current","_getCurrentTab","activatedTab","data","history","pushState","origin","protocol","hostname","port","pathname","search","_isCollapisble","_closeTab","oldState","startCollapsedIsState","is","newState","closeCurrent","stopRotation","scrollOffset","_doTransition","scrollOnLoad","getState","_isInView","top","animate","scrollTop","doQueue","doQueueOnState","method","callback","dequeue","effect","queue","next","complete","numRef","_getCurrentTabRef","_getNextTabRef","currentTabRef","nextTabRef","_getPreviousTabRef","maxHeight","map","max","css","docViewTop","docViewBottom","elemTop","jQuery","Event","enable","disable","speed","Error","setInterval","isNumeric","clearInterval","option","key","fn","responsiveTabs","instance","args","arguments","_typeof","apply","Array","slice","images","observer","lozad","observe"],"mappings":"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","file":"bundle.min.js","sourcesContent":["let elements = document.querySelectorAll('option');\r\n\r\n        elements.forEach(function(element){\r\n            console.log(element.value);\r\n        });\r\n        'use strict';\r\n\r\nif(window.navigator.userAgent.indexOf('Mac') == -1) {\r\n    var canvas = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n\r\n    canvas.width  = canvas.clientWidth;\r\n    canvas.height = canvas.clientHeight;\r\n\r\n    var config = {\r\n        TEXTURE_DOWNSAMPLE: 1,\r\n        DENSITY_DISSIPATION: 0.98,\r\n        VELOCITY_DISSIPATION: 0.99,\r\n        PRESSURE_DISSIPATION: 0.2,\r\n        PRESSURE_ITERATIONS: 20,\r\n        CURL: 40,\r\n        SPLAT_RADIUS: 0.007\r\n    };\r\n\r\n    var pointers   = [];\r\n    var splatStack = [];\r\n\r\n    var _getWebGLContext     = getWebGLContext( canvas );\r\n    var gl                   = _getWebGLContext.gl;\r\n    var ext                  = _getWebGLContext.ext;\r\n    var support_linear_float = _getWebGLContext.support_linear_float;\r\n\r\n    function getWebGLContext( canvas ) {\r\n\r\n        var params = {\r\n            alpha: false,\r\n            depth: false,\r\n            stencil: false,\r\n            antialias: false\r\n        };\r\n        \r\n        var gl = canvas.getContext( 'webgl2', params );\r\n\r\n        var isWebGL2 = !!gl;\r\n\r\n        if ( !isWebGL2 ) gl = canvas.getContext( 'webgl', params ) || canvas.getContext( 'experimental-webgl', params );\r\n\r\n        var halfFloat            = gl.getExtension( 'OES_texture_half_float' );\r\n        var support_linear_float = gl.getExtension( 'OES_texture_half_float_linear' );\r\n\r\n        if ( isWebGL2 ) {\r\n            gl.getExtension( 'EXT_color_buffer_float' );\r\n            support_linear_float = gl.getExtension( 'OES_texture_float_linear' );\r\n        }\r\n\r\n        gl.clearColor( 0, 0, 0, 0 );\r\n\r\n        var internalFormat   = isWebGL2 ? gl.RGBA16F : gl.RGBA;\r\n        var internalFormatRG = isWebGL2 ? gl.RG16F : gl.RGBA;\r\n        var formatRG         = isWebGL2 ? gl.RG : gl.RGBA;\r\n        var texType          = isWebGL2 ? gl.HALF_FLOAT : halfFloat.HALF_FLOAT_OES;\r\n\r\n        return {\r\n            gl: gl,\r\n            ext: {\r\n                internalFormat: internalFormat,\r\n                internalFormatRG: internalFormatRG,\r\n                formatRG: formatRG,\r\n                texType: texType\r\n            },\r\n            support_linear_float: support_linear_float\r\n        };\r\n    }\r\n\r\n    function pointerPrototype() {\r\n        this.id    = -1;\r\n        this.x     = 0;\r\n        this.y     = 0;\r\n        this.dx    = 0;\r\n        this.dy    = 0;\r\n        this.down  = false;\r\n        this.moved = false;\r\n        this.color = [ 153, 118, 57 ];\r\n    }\r\n\r\n    pointers.push( new pointerPrototype() );\r\n\r\n    var GLProgram = function () {\r\n        \r\n        function GLProgram( vertexShader, fragmentShader ) {\r\n\r\n            if ( !(this instanceof GLProgram) )\r\n                throw new TypeError( \"Cannot call a class as a function\" );\r\n\r\n            this.uniforms = {};\r\n            this.program  = gl.createProgram();\r\n\r\n            gl.attachShader( this.program, vertexShader );\r\n            gl.attachShader( this.program, fragmentShader );\r\n            gl.linkProgram( this.program );\r\n\r\n            if ( !gl.getProgramParameter( this.program, gl.LINK_STATUS ) ) throw gl.getProgramInfoLog( this.program );\r\n\r\n            var uniformCount = gl.getProgramParameter( this.program, gl.ACTIVE_UNIFORMS );\r\n            \r\n            for ( var i = 0; i < uniformCount; i++ ) {\r\n                \r\n                var uniformName = gl.getActiveUniform( this.program, i ).name;\r\n                \r\n                this.uniforms[ uniformName ] = gl.getUniformLocation( this.program, uniformName );\r\n                \r\n            }\r\n        }\r\n\r\n        GLProgram.prototype.bind = function bind() {\r\n            gl.useProgram( this.program );\r\n        };\r\n\r\n        return GLProgram;\r\n        \r\n    }();\r\n\r\n    function compileShader( type, source ) {\r\n\r\n        var shader = gl.createShader( type );\r\n        \r\n        gl.shaderSource( shader, source );\r\n        gl.compileShader( shader );\r\n\r\n        if ( !gl.getShaderParameter( shader, gl.COMPILE_STATUS ) ) throw gl.getShaderInfoLog( shader );\r\n\r\n        return shader;\r\n\r\n    }\r\n\r\n    var baseVertexShader               = compileShader( gl.VERTEX_SHADER, 'precision highp float; precision mediump sampler2D; attribute vec2 aPosition; varying vec2 vUv; varying vec2 vL; varying vec2 vR; varying vec2 vT; varying vec2 vB; uniform vec2 texelSize; void main () {     vUv = aPosition * 0.5 + 0.5;     vL = vUv - vec2(texelSize.x, 0.0);     vR = vUv + vec2(texelSize.x, 0.0);     vT = vUv + vec2(0.0, texelSize.y);     vB = vUv - vec2(0.0, texelSize.y);     gl_Position = vec4(aPosition, 0.0, 1.0); }' );\r\n    var clearShader                    = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; uniform sampler2D uTexture; uniform float value; void main () {     gl_FragColor = value * texture2D(uTexture, vUv); }' );\r\n    var displayShader                  = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; uniform sampler2D uTexture; void main () {     gl_FragColor = texture2D(uTexture, vUv); }' );\r\n    var splatShader                    = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; uniform sampler2D uTarget; uniform float aspectRatio; uniform vec3 color; uniform vec2 point; uniform float radius; void main () {     vec2 p = vUv - point.xy;     p.x *= aspectRatio;     vec3 splat = exp(-dot(p, p) / radius) * color;     vec3 base = texture2D(uTarget, vUv).xyz;     gl_FragColor = vec4(base + splat, 1.0); }' ); // Р±С‹Р»Рѕ Р·РЅР°С‡РµРЅРёРµ 1.0\r\n    var advectionManualFilteringShader = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; uniform sampler2D uVelocity; uniform sampler2D uSource; uniform vec2 texelSize; uniform float dt; uniform float dissipation; vec4 bilerp (in sampler2D sam, in vec2 p) {     vec4 st;     st.xy = floor(p - 0.5) + 0.5;     st.zw = st.xy + 1.0;     vec4 uv = st * texelSize.xyxy;     vec4 a = texture2D(sam, uv.xy);     vec4 b = texture2D(sam, uv.zy);     vec4 c = texture2D(sam, uv.xw);     vec4 d = texture2D(sam, uv.zw);     vec2 f = p - st.xy;     return mix(mix(a, b, f.x), mix(c, d, f.x), f.y); } void main () {     vec2 coord = gl_FragCoord.xy - dt * texture2D(uVelocity, vUv).xy;     gl_FragColor = dissipation * bilerp(uSource, coord);     gl_FragColor.a = 1.0; }' );\r\n    var advectionShader                = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; uniform sampler2D uVelocity; uniform sampler2D uSource; uniform vec2 texelSize; uniform float dt; uniform float dissipation; void main () {     vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;     gl_FragColor = dissipation * texture2D(uSource, coord); }' );\r\n    var divergenceShader               = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; varying vec2 vL; varying vec2 vR; varying vec2 vT; varying vec2 vB; uniform sampler2D uVelocity; vec2 sampleVelocity (in vec2 uv) {     vec2 multiplier = vec2(1.0, 1.0);     if (uv.x < 0.0) { uv.x = 0.0; multiplier.x = -1.0; }     if (uv.x > 1.0) { uv.x = 1.0; multiplier.x = -1.0; }     if (uv.y < 0.0) { uv.y = 0.0; multiplier.y = -1.0; }     if (uv.y > 1.0) { uv.y = 1.0; multiplier.y = -1.0; }     return multiplier * texture2D(uVelocity, uv).xy; } void main () {     float L = sampleVelocity(vL).x;     float R = sampleVelocity(vR).x;     float T = sampleVelocity(vT).y;     float B = sampleVelocity(vB).y;     float div = 0.5 * (R - L + T - B);     gl_FragColor = vec4(div, 0.0, 0.0, 1.0); }' );\r\n    var curlShader                     = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; varying vec2 vL; varying vec2 vR; varying vec2 vT; varying vec2 vB; uniform sampler2D uVelocity; void main () {     float L = texture2D(uVelocity, vL).y;     float R = texture2D(uVelocity, vR).y;     float T = texture2D(uVelocity, vT).x;     float B = texture2D(uVelocity, vB).x;     float vorticity = R - L - T + B;     gl_FragColor = vec4(vorticity, 0.0, 0.0, 1.0); }' );\r\n    var vorticityShader                = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; varying vec2 vL; varying vec2 vR; varying vec2 vT; varying vec2 vB; uniform sampler2D uVelocity; uniform sampler2D uCurl; uniform float curl; uniform float dt; void main () {     float L = texture2D(uCurl, vL).y;     float R = texture2D(uCurl, vR).y;     float T = texture2D(uCurl, vT).x;     float B = texture2D(uCurl, vB).x;     float C = texture2D(uCurl, vUv).x;     vec2 force = vec2(abs(T) - abs(B), abs(R) - abs(L));     force *= 1.0 / length(force + 0.00001) * curl * C;     vec2 vel = texture2D(uVelocity, vUv).xy;     gl_FragColor = vec4(vel + force * dt, 0.0, 1.0); }' );\r\n    var pressureShader                 = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; varying vec2 vL; varying vec2 vR; varying vec2 vT; varying vec2 vB; uniform sampler2D uPressure; uniform sampler2D uDivergence; vec2 boundary (in vec2 uv) {     uv = min(max(uv, 0.0), 1.0);     return uv; } void main () {     float L = texture2D(uPressure, boundary(vL)).x;     float R = texture2D(uPressure, boundary(vR)).x;     float T = texture2D(uPressure, boundary(vT)).x;     float B = texture2D(uPressure, boundary(vB)).x;     float C = texture2D(uPressure, vUv).x;     float divergence = texture2D(uDivergence, vUv).x;     float pressure = (L + R + B + T - divergence) * 0.25;     gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0); }' );\r\n    var gradientSubtractShader         = compileShader( gl.FRAGMENT_SHADER, 'precision highp float; precision mediump sampler2D; varying vec2 vUv; varying vec2 vL; varying vec2 vR; varying vec2 vT; varying vec2 vB; uniform sampler2D uPressure; uniform sampler2D uVelocity; vec2 boundary (in vec2 uv) {     uv = min(max(uv, 0.0), 1.0);     return uv; } void main () {     float L = texture2D(uPressure, boundary(vL)).x;     float R = texture2D(uPressure, boundary(vR)).x;     float T = texture2D(uPressure, boundary(vT)).x;     float B = texture2D(uPressure, boundary(vB)).x;     vec2 velocity = texture2D(uVelocity, vUv).xy;     velocity.xy -= vec2(R - L, T - B);     gl_FragColor = vec4(velocity, 0.0, 1.0); }' );\r\n\r\n    var textureWidth  = void 0;\r\n    var textureHeight = void 0;\r\n    var density       = void 0;\r\n    var velocity      = void 0;\r\n    var divergence    = void 0;\r\n    var curl          = void 0;\r\n    var pressure      = void 0;\r\n\r\n    initFramebuffers();\r\n\r\n    var clearProgram           = new GLProgram( baseVertexShader, clearShader );\r\n    var displayProgram         = new GLProgram( baseVertexShader, displayShader );\r\n    var splatProgram           = new GLProgram( baseVertexShader, splatShader );\r\n    var advectionProgram       = new GLProgram( baseVertexShader, support_linear_float ? advectionShader : advectionManualFilteringShader );\r\n    var divergenceProgram      = new GLProgram( baseVertexShader, divergenceShader );\r\n    var curlProgram            = new GLProgram( baseVertexShader, curlShader );\r\n    var vorticityProgram       = new GLProgram( baseVertexShader, vorticityShader );\r\n    var pressureProgram        = new GLProgram( baseVertexShader, pressureShader );\r\n    var gradienSubtractProgram = new GLProgram( baseVertexShader, gradientSubtractShader );\r\n\r\n    function initFramebuffers() {\r\n\r\n        textureWidth  = gl.drawingBufferWidth >> config.TEXTURE_DOWNSAMPLE;\r\n        textureHeight = gl.drawingBufferHeight >> config.TEXTURE_DOWNSAMPLE;\r\n\r\n        var iFormat   = ext.internalFormat;\r\n        var iFormatRG = ext.internalFormatRG;\r\n        var formatRG  = ext.formatRG;\r\n        var texType   = ext.texType;\r\n\r\n        density    = createDoubleFBO( 0, textureWidth, textureHeight, iFormat, gl.RGBA, texType, support_linear_float ? gl.LINEAR : gl.NEAREST );\r\n        velocity   = createDoubleFBO( 2, textureWidth, textureHeight, iFormatRG, formatRG, texType, support_linear_float ? gl.LINEAR : gl.NEAREST );\r\n        divergence = createFBO( 4, textureWidth, textureHeight, iFormatRG, formatRG, texType, gl.NEAREST );\r\n        curl       = createFBO( 5, textureWidth, textureHeight, iFormatRG, formatRG, texType, gl.NEAREST );\r\n        pressure   = createDoubleFBO( 6, textureWidth, textureHeight, iFormatRG, formatRG, texType, gl.NEAREST );\r\n\r\n    }\r\n\r\n    function createFBO( texId, w, h, internalFormat, format, type, param ) {\r\n\r\n        gl.activeTexture( gl.TEXTURE0 + texId );\r\n\r\n        var texture = gl.createTexture();\r\n\r\n        gl.bindTexture( gl.TEXTURE_2D, texture );\r\n        gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, param );\r\n        gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, param );\r\n        gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\r\n        gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\r\n        gl.texImage2D( gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null );\r\n\r\n        var fbo = gl.createFramebuffer();\r\n\r\n        gl.bindFramebuffer( gl.FRAMEBUFFER, fbo );\r\n        gl.framebufferTexture2D( gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0 );\r\n        gl.viewport( 0, 0, w, h );\r\n        gl.clear( gl.COLOR_BUFFER_BIT );\r\n\r\n        return [ texture, fbo, texId ];\r\n\r\n    }\r\n\r\n    function createDoubleFBO( texId, w, h, internalFormat, format, type, param ) {\r\n\r\n        var fbo1 = createFBO( texId, w, h, internalFormat, format, type, param );\r\n        var fbo2 = createFBO( texId + 1, w, h, internalFormat, format, type, param );\r\n\r\n        return {\r\n            get first() {\r\n                return fbo1;\r\n            },\r\n            get second() {\r\n                return fbo2;\r\n            },\r\n            swap: function swap() {\r\n                var temp = fbo1;\r\n\r\n                fbo1 = fbo2;\r\n                fbo2 = temp;\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n    var blit = function () {\r\n\r\n        gl.bindBuffer( gl.ARRAY_BUFFER, gl.createBuffer() );\r\n        gl.bufferData( gl.ARRAY_BUFFER, new Float32Array( [ -1, -1, -1, 1, 1, 1, 1, -1 ] ), gl.STATIC_DRAW );\r\n        gl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer() );\r\n        gl.bufferData( gl.ELEMENT_ARRAY_BUFFER, new Uint16Array( [ 0, 1, 2, 0, 2, 3 ] ), gl.STATIC_DRAW );\r\n        gl.vertexAttribPointer( 0, 2, gl.FLOAT, false, 0, 0 );\r\n        gl.enableVertexAttribArray( 0 );\r\n\r\n        return function ( destination ) {\r\n            gl.bindFramebuffer( gl.FRAMEBUFFER, destination );\r\n            gl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\r\n        };\r\n\r\n    }();\r\n\r\n    var lastTime = Date.now();\r\n\r\n    update();\r\n\r\n    function update() {\r\n\r\n        resizeCanvas();\r\n\r\n        var dt = Math.min( (Date.now() - lastTime) / 1000, 0.016 );\r\n        lastTime = Date.now();\r\n\r\n        gl.viewport( 0, 0, textureWidth, textureHeight );\r\n\r\n        if ( splatStack.length > 0 ) {\r\n            for ( var m = 0; m < splatStack.pop(); m++ ) {\r\n\r\n                var color = [ Math.random() * 10, Math.random() * 10, Math.random() * 10 ];\r\n                var x     = canvas.width * Math.random();\r\n                var y     = canvas.height * Math.random();\r\n                var dx    = 1000 * (Math.random() - 0.5);\r\n                var dy    = 1000 * (Math.random() - 0.5);\r\n\r\n                splat( x, y, dx, dy, color );\r\n            }\r\n        }\r\n\r\n        advectionProgram.bind();\r\n        gl.uniform2f( advectionProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight );\r\n        gl.uniform1i( advectionProgram.uniforms.uVelocity, velocity.first[ 2 ] );\r\n        gl.uniform1i( advectionProgram.uniforms.uSource, velocity.first[ 2 ] );\r\n        gl.uniform1f( advectionProgram.uniforms.dt, dt );\r\n        gl.uniform1f( advectionProgram.uniforms.dissipation, config.VELOCITY_DISSIPATION );\r\n        blit( velocity.second[ 1 ] );\r\n        velocity.swap();\r\n\r\n        gl.uniform1i( advectionProgram.uniforms.uVelocity, velocity.first[ 2 ] );\r\n        gl.uniform1i( advectionProgram.uniforms.uSource, density.first[ 2 ] );\r\n        gl.uniform1f( advectionProgram.uniforms.dissipation, config.DENSITY_DISSIPATION );\r\n        blit( density.second[ 1 ] );\r\n        density.swap();\r\n\r\n        for ( var i = 0, len =  pointers.length; i < len; i++ ) {\r\n            var pointer = pointers[ i ];\r\n\r\n            if ( pointer.moved ) {\r\n                splat( pointer.x, pointer.y, pointer.dx, pointer.dy, pointer.color );\r\n                pointer.moved = false;\r\n            }\r\n        }\r\n\r\n        curlProgram.bind();\r\n        gl.uniform2f( curlProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight );\r\n        gl.uniform1i( curlProgram.uniforms.uVelocity, velocity.first[ 2 ] );\r\n        blit( curl[ 1 ] );\r\n\r\n        vorticityProgram.bind();\r\n        gl.uniform2f( vorticityProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight );\r\n        gl.uniform1i( vorticityProgram.uniforms.uVelocity, velocity.first[ 2 ] );\r\n        gl.uniform1i( vorticityProgram.uniforms.uCurl, curl[ 2 ] );\r\n        gl.uniform1f( vorticityProgram.uniforms.curl, config.CURL );\r\n        gl.uniform1f( vorticityProgram.uniforms.dt, dt );\r\n        blit( velocity.second[ 1 ] );\r\n        velocity.swap();\r\n\r\n        divergenceProgram.bind();\r\n        gl.uniform2f( divergenceProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight );\r\n        gl.uniform1i( divergenceProgram.uniforms.uVelocity, velocity.first[ 2 ] );\r\n        blit( divergence[ 1 ] );\r\n\r\n        clearProgram.bind();\r\n\r\n        var pressureTexId = pressure.first[ 2 ];\r\n\r\n        gl.activeTexture( gl.TEXTURE0 + pressureTexId );\r\n        gl.bindTexture( gl.TEXTURE_2D, pressure.first[ 0 ] );\r\n        gl.uniform1i( clearProgram.uniforms.uTexture, pressureTexId );\r\n        gl.uniform1f( clearProgram.uniforms.value, config.PRESSURE_DISSIPATION );\r\n        blit( pressure.second[ 1 ] );\r\n        pressure.swap();\r\n\r\n        pressureProgram.bind();\r\n        gl.uniform2f( pressureProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight );\r\n        gl.uniform1i( pressureProgram.uniforms.uDivergence, divergence[ 2 ] );\r\n        pressureTexId = pressure.first[ 2 ];\r\n        gl.activeTexture( gl.TEXTURE0 + pressureTexId );\r\n\r\n        for ( var _i = 0; _i < config.PRESSURE_ITERATIONS; _i++ ) {\r\n            gl.bindTexture( gl.TEXTURE_2D, pressure.first[ 0 ] );\r\n            gl.uniform1i( pressureProgram.uniforms.uPressure, pressureTexId );\r\n            blit( pressure.second[ 1 ] );\r\n            pressure.swap();\r\n        }\r\n\r\n        gradienSubtractProgram.bind();\r\n        gl.uniform2f( gradienSubtractProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight );\r\n        gl.uniform1i( gradienSubtractProgram.uniforms.uPressure, pressure.first[ 2 ] );\r\n        gl.uniform1i( gradienSubtractProgram.uniforms.uVelocity, velocity.first[ 2 ] );\r\n        blit( velocity.second[ 1 ] );\r\n        velocity.swap();\r\n\r\n        gl.viewport( 0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight );\r\n        displayProgram.bind();\r\n        gl.uniform1i( displayProgram.uniforms.uTexture, density.first[ 2 ] );\r\n        blit( null );\r\n\r\n        requestAnimationFrame( update );\r\n\r\n    }\r\n\r\n    function splat( x, y, dx, dy, color ) {\r\n\r\n        splatProgram.bind();\r\n        gl.uniform1i( splatProgram.uniforms.uTarget, velocity.first[ 2 ] );\r\n        gl.uniform1f( splatProgram.uniforms.aspectRatio, canvas.width / canvas.height );\r\n        gl.uniform2f( splatProgram.uniforms.point, x / canvas.width, 1.0 - y / canvas.height );\r\n        gl.uniform3f( splatProgram.uniforms.color, dx, -dy, 1.0 );\r\n        gl.uniform1f( splatProgram.uniforms.radius, config.SPLAT_RADIUS );\r\n        blit( velocity.second[ 1 ] );\r\n        velocity.swap();\r\n\r\n        gl.uniform1i( splatProgram.uniforms.uTarget, density.first[ 2 ] );\r\n        gl.uniform3f( splatProgram.uniforms.color, color[ 0 ] * 0.3, color[ 1 ] * 0.3, color[ 2 ] * 0.3 );\r\n        blit( density.second[ 1 ] );\r\n        density.swap();\r\n\r\n    }\r\n\r\n    function resizeCanvas() {\r\n\r\n        ( canvas.width !== canvas.clientWidth || canvas.height !== canvas.clientHeight ) && ( canvas.width  = canvas.clientWidth, canvas.height = canvas.clientHeight, initFramebuffers() );\r\n\r\n    }\r\n\r\n    var count    = 0;\r\n    var colorArr = [ Math.random() + 0.2, Math.random() + 0.2, Math.random() + 0.2 ];\r\n\r\n    canvas.addEventListener( 'mousemove', function ( e ) {\r\n\r\n        count++;\r\n\r\n        \r\n        ( count > 25 ) && (colorArr = [ Math.random() + 0.2, Math.random() + 0.2, Math.random() + 0.2 ], count = 0);\r\n\r\n        pointers[ 0 ].down  = true;\r\n        pointers[ 0 ].color = colorArr;\r\n        pointers[ 0 ].moved = pointers[ 0 ].down;\r\n        pointers[ 0 ].dx    = (e.offsetX - pointers[ 0 ].x) * 10.0;\r\n        pointers[ 0 ].dy    = (e.offsetY - pointers[ 0 ].y) * 10.0;\r\n        pointers[ 0 ].x     = e.offsetX;\r\n        pointers[ 0 ].y     = e.offsetY;\r\n    } );\r\n\r\n    canvas.addEventListener( 'touchmove', function ( e ) {\r\n\r\n        e.preventDefault();\r\n\r\n        var touches = e.targetTouches;\r\n\r\n        count++;\r\n\r\n        ( count > 25 ) && (colorArr = [ Math.random() + 0.2, Math.random() + 0.2, Math.random() + 0.2 ], count = 0);\r\n\r\n        for ( var i = 0, len = touches.length; i < len; i++ ) {\r\n\r\n            if ( i >= pointers.length ) pointers.push( new pointerPrototype() );\r\n\r\n            pointers[ i ].id    = touches[ i ].identifier;\r\n            pointers[ i ].down  = true;\r\n            pointers[ i ].x     = touches[ i ].pageX;\r\n            pointers[ i ].y     = touches[ i ].pageY;\r\n            pointers[ i ].color = colorArr;\r\n\r\n            var pointer = pointers[ i ];\r\n\r\n            pointer.moved = pointer.down;\r\n            pointer.dx    = (touches[ i ].pageX - pointer.x) * 10.0;\r\n            pointer.dy    = (touches[ i ].pageY - pointer.y) * 10.0;\r\n            pointer.x     = touches[ i ].pageX;\r\n            pointer.y     = touches[ i ].pageY;\r\n\r\n        }\r\n\r\n    }, false );\r\n} else if(window.navigator.userAgent.indexOf('Mac') != -1 && window.navigator.userAgent.indexOf('Chrome') != -1) {\r\n    !(function ( t ) {\r\n\r\n        function e( t ) {\r\n            this.init( t || {} );\r\n        }\r\n\r\n        function n( t ) {\r\n            this.init( t || {} );\r\n        }\r\n\r\n        function i( t ) {\r\n            document.removeEventListener( \"mousemove\", i );\r\n            document.removeEventListener( \"touchstart\", i );\r\n            document.addEventListener( \"mousemove\", d );\r\n            document.addEventListener( \"touchmove\", d );\r\n            document.addEventListener( \"touchstart\", u );\r\n            d( t );\r\n            a();\r\n            o();\r\n        }\r\n\r\n        function a() {\r\n            w = [];\r\n            for ( var t = 0; t < E.trails; t++ ) w.push( new n({ spring: .45 + .025 * (t / E.trails) }) );\r\n        }\r\n\r\n        function o() {\r\n            if ( f.running ) {\r\n                f.globalCompositeOperation = \"source-over\";\r\n                f.fillStyle = \"rgba(8,5,16,0.4)\";\r\n                f.fillRect( 0, 0, f.canvas.width, f.canvas.height );\r\n                f.globalCompositeOperation = \"lighter\";\r\n                f.strokeStyle = \"hsla(\" + Math.round( l.update() ) + \",90%,50%,0.25)\";\r\n                f.lineWidth = 1;\r\n                for ( var t, e = 0; e < E.trails; e++ ) {\r\n                    t = w[ e ];\r\n                    t.update();\r\n                    t.draw();\r\n                }\r\n                f.frame++;\r\n                requestAnimFrame( o );\r\n            }\r\n        }\r\n\r\n        function s() {\r\n            f.canvas.width = t.innerWidth;\r\n            f.canvas.height = t.innerHeight;\r\n        }\r\n\r\n        function r() {\r\n            if ( !f.running ) {\r\n                f.running = !0;\r\n                o();\r\n            }\r\n        }\r\n\r\n        function h() {\r\n            f.running = !1;\r\n        }\r\n\r\n        function d( t ) {\r\n            if ( t.touches ) {\r\n                x.x = t.touches[ 0 ].pageX;\r\n                x.y = t.touches[ 0 ].pageY;\r\n            } else {\r\n                x.x = t.clientX;\r\n                x.y = t.clientY;\r\n            }\r\n            t.preventDefault();\r\n        }\r\n\r\n        function u( t ) {\r\n            if ( 1 === t.touches.length ) {\r\n                x.x = t.touches[ 0 ].pageX;\r\n                x.y = t.touches[ 0 ].pageY;\r\n            }\r\n        }\r\n\r\n        var f, l, v, g, y, x = {}, w = [], E = {};\r\n\r\n        E.friction = .5;\r\n        E.trails = 20;\r\n        E.size = 50;\r\n        E.dampening = .25;\r\n        E.tension = .98;\r\n\r\n        e.prototype = function () {\r\n            var t = 0;\r\n\r\n            return {\r\n                init: function ( t ) {\r\n                    this.phase = t.phase || 0;\r\n                    this.offset = t.offset || 0;\r\n                    this.frequency = t.frequency || .001;\r\n                    this.amplitude = t.amplitude || 1;\r\n                },\r\n                update: function () {\r\n                    return this.phase += this.frequency, t = this.offset + Math.sin( this.phase ) * this.amplitude;\r\n                },\r\n                value: function () {\r\n                    return t;\r\n                }\r\n            }\r\n        }();\r\n\r\n        n.prototype = function () {\r\n\r\n            function t() {\r\n                this.x = 0;\r\n                this.y = 0;\r\n                this.vy = 0;\r\n                this.vx = 0;\r\n            }\r\n\r\n            return {\r\n                init: function ( e ) {\r\n                    this.spring = e.spring + .1 * Math.random() - .05;\r\n                    this.friction = E.friction + .01 * Math.random() - .005;\r\n                    this.nodes = [];\r\n                    for ( var n, i = 0; i < E.size; i++ ) {\r\n                        n = new t;\r\n                        n.x = x.x;\r\n                        n.y = x.y;\r\n                        this.nodes.push( n );\r\n                    }\r\n                }, update: function () {\r\n                    var t = this.spring, e = this.nodes[ 0 ];\r\n                    e.vx += (x.x - e.x) * t;\r\n                    e.vy += (x.y - e.y) * t;\r\n                    for ( var n, i = 0, a = this.nodes.length; a > i; i++ ) {\r\n                        e = this.nodes[ i ];\r\n                        if ( i > 0 ) {\r\n                            n = this.nodes[ i - 1 ];\r\n                            e.vx += (n.x - e.x) * t;\r\n                            e.vy += (n.y - e.y) * t;\r\n                            e.vx += n.vx * E.dampening;\r\n                            e.vy += n.vy * E.dampening;\r\n                        }\r\n                        e.vx *= this.friction;\r\n                        e.vy *= this.friction;\r\n                        e.x += e.vx;\r\n                        e.y += e.vy;\r\n                        t *= E.tension;\r\n                    }\r\n                }, draw: function () {\r\n                    var t, e, n = this.nodes[ 0 ].x, i = this.nodes[ 0 ].y;\r\n                    f.beginPath();\r\n                    f.moveTo( n, i );\r\n                    for ( var a = 1, o = this.nodes.length - 2; o > a; a++ ) {\r\n                        t = this.nodes[ a ];\r\n                        e = this.nodes[ a + 1 ];\r\n                        n = .5 * (t.x + e.x);\r\n                        i = .5 * (t.y + e.y);\r\n                        f.quadraticCurveTo( t.x, t.y, n, i );\r\n                    }\r\n                    t = this.nodes[ a ];\r\n                    e = this.nodes[ a + 1 ];\r\n                    f.quadraticCurveTo( t.x, t.y, e.x, e.y );\r\n                    f.stroke();\r\n                    f.closePath();\r\n                }\r\n            }\r\n\r\n        }();\r\n\r\n        t.requestAnimFrame = function () {\r\n\r\n            return t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || function ( e ) {\r\n                    t.setTimeout( e, 1e3 / 60 );\r\n                };\r\n\r\n        }();\r\n\r\n        t.onload = function () {\r\n\r\n            f = document.getElementById( \"canvas\" ).getContext( \"2d\" );\r\n            f.running = !0;\r\n            f.frame = 1;\r\n            // v = new Image;\r\n            // v.src = \"https://raw.githubusercontent.com/RustamWD/lightspiral/master/images/logo.png \";\r\n            l = new e( {\r\n                phase: 2 * Math.random() * Math.PI,\r\n                amplitude: 85,\r\n                frequency: .0015,\r\n                offset: 285\r\n            } );\r\n            document.addEventListener( \"mousemove\", i );\r\n            document.addEventListener( \"touchstart\", i );\r\n            document.body.addEventListener( \"orientationchange\", s );\r\n            t.addEventListener( \"resize\", s );\r\n            t.addEventListener( \"focus\", r );\r\n            t.addEventListener( \"blur\", h );\r\n            s();\r\n        };\r\n\r\n    })( window ); \r\n}",";(function ( $, window, undefined ) {\n\n    /** Default settings */\n    var defaults = {\n        active: null,\n        event: 'click',\n        disabled: [],\n        collapsible: 'tabs',\n        startCollapsed: 'tabs',\n        rotate: false,\n        setHash: true,\n        animation: 'fade',\n        animationQueue: true,\n        duration: 300,\n        fluidHeight: true,\n        scrollToAccordion: false,\n        scrollToAccordionOnLoad: false,\n        scrollToAccordionOffset: 0,\n        accordionTabElement: '<div></div>',\n        navigationContainer: '',\n        click: function(){},\n        activate: function(){},\n        deactivate: function(){},\n        load: function(){},\n        activateState: function(){},\n        classes: {\n            stateDefault: 'malls-tabs-state-default',\n            stateActive: 'malls-tabs-state-active',\n            stateDisabled: 'malls-tabs-state-disabled',\n            stateExcluded: 'malls-tabs-state-excluded',\n            container: 'malls-tabs',\n            ul: 'malls-tabs-nav',\n            tab: 'malls-tabs-tab',\n            anchor: 'malls-tabs-anchor',\n            panel: 'malls-tabs-panel',\n            accordionTitle: 'malls-tabs-accordion-title'\n        }\n    };\n\n    /**\n     * Responsive Tabs\n     * @constructor\n     * @param {object} element - The HTML element the validator should be bound to\n     * @param {object} options - An option map\n     */\n    function ResponsiveTabs(element, options) {\n        this.element = element; // Selected DOM element\n        this.$element = $(element); // Selected jQuery element\n\n        this.tabs = []; // Create tabs array\n        this.state = ''; // Define the plugin state (tabs/accordion)\n        this.rotateInterval = 0; // Define rotate interval\n        this.$queue = $({});\n\n        // Extend the defaults with the passed options\n        this.options = $.extend( {}, defaults, options);\n\n        this.init();\n    }\n\n\n    /**\n     * This function initializes the tab plugin\n     */\n    ResponsiveTabs.prototype.init = function () {\n        var _this = this;\n\n        // Load all the elements\n        this.tabs = this._loadElements();\n        this._loadClasses();\n        this._loadEvents();\n\n        // Window resize bind to check state\n        $(window).on('resize', function(e) {\n            _this._setState(e);\n            if(_this.options.fluidHeight !== true) {\n                _this._equaliseHeights();\n            }\n        });\n\n        // Hashchange event\n        $(window).on('hashchange', function(e) {\n            var tabRef = _this._getTabRefBySelector(window.location.hash);\n            var oTab = _this._getTab(tabRef);\n\n            // Check if a tab is found that matches the hash\n            if(tabRef >= 0 && !oTab._ignoreHashChange && !oTab.disabled) {\n                // If so, open the tab and auto close the current one\n                _this._openTab(e, _this._getTab(tabRef), true);\n            }\n        });\n\n        // Start rotate event if rotate option is defined\n        if(this.options.rotate !== false) {\n            this.startRotation();\n        }\n\n        // Set fluid height\n        if(this.options.fluidHeight !== true) {\n            _this._equaliseHeights();\n        }\n\n        // --------------------\n        // Define plugin events\n        //\n\n        // Activate: this event is called when a tab is selected\n        this.$element.bind('tabs-click', function(e, oTab) {\n            _this.options.click.call(this, e, oTab);\n        });\n\n        // Activate: this event is called when a tab is selected\n        this.$element.bind('tabs-activate', function(e, oTab) {\n            _this.options.activate.call(this, e, oTab);\n        });\n        // Deactivate: this event is called when a tab is closed\n        this.$element.bind('tabs-deactivate', function(e, oTab) {\n            _this.options.deactivate.call(this, e, oTab);\n        });\n        // Activate State: this event is called when the plugin switches states\n        this.$element.bind('tabs-activate-state', function(e, state) {\n            _this.options.activateState.call(this, e, state);\n        });\n\n        // Load: this event is called when the plugin has been loaded\n        this.$element.bind('tabs-load', function(e) {\n            var startTab;\n\n            _this._setState(e); // Set state\n\n            // Check if the panel should be collaped on load\n            if(_this.options.startCollapsed !== true && !(_this.options.startCollapsed === 'accordion' && _this.state === 'accordion')) {\n\n                startTab = _this._getStartTab();\n\n                // Open the initial tab\n                _this._openTab(e, startTab); // Open first tab\n\n                // Call the callback function\n                _this.options.load.call(this, e, startTab); // Call the load callback\n            }\n        });\n        // Trigger loaded event\n        this.$element.trigger('tabs-load');\n    };\n\n    //\n    // PRIVATE FUNCTIONS\n    //\n\n    /**\n     * This function loads the tab elements and stores them in an array\n     * @returns {Array} Array of tab elements\n     */\n    ResponsiveTabs.prototype._loadElements = function() {\n        var _this = this;\n        var $ul = (_this.options.navigationContainer === '') ? this.$element.children('ul:first') : this.$element.find(_this.options.navigationContainer).children('ul:first');\n        var tabs = [];\n        var id = 0;\n\n        // Add the classes to the basic html elements\n        this.$element.addClass(_this.options.classes.container); // Tab container\n        $ul.addClass(_this.options.classes.ul); // List container\n\n        // Get tab buttons and store their data in an array\n        $('li', $ul).each(function() {\n            var $tab = $(this);\n            var isExcluded = $tab.hasClass(_this.options.classes.stateExcluded);\n            var $anchor, $panel, $accordionTab, $accordionAnchor, panelSelector;\n\n            // Check if the tab should be excluded\n            if(!isExcluded) {\n\n                $anchor = $('a', $tab);\n                panelSelector = $anchor.attr('href');\n                $panel = $(panelSelector);\n                $accordionTab = $(_this.options.accordionTabElement).insertBefore($panel);\n                $accordionAnchor = $('<a></a>').attr('href', panelSelector).html($anchor.html()).appendTo($accordionTab);\n\n                var oTab = {\n                    _ignoreHashChange: false,\n                    id: id,\n                    disabled: ($.inArray(id, _this.options.disabled) !== -1),\n                    tab: $(this),\n                    anchor: $('a', $tab),\n                    panel: $panel,\n                    selector: panelSelector,\n                    accordionTab: $accordionTab,\n                    accordionAnchor: $accordionAnchor,\n                    active: false\n                };\n\n                // 1up the ID\n                id++;\n                // Add to tab array\n                tabs.push(oTab);\n            }\n        });\n        return tabs;\n    };\n\n\n    /**\n     * This function adds classes to the tab elements based on the options\n     */\n    ResponsiveTabs.prototype._loadClasses = function() {\n        for (var i=0; i<this.tabs.length; i++) {\n            this.tabs[i].tab.addClass(this.options.classes.stateDefault).addClass(this.options.classes.tab);\n            this.tabs[i].anchor.addClass(this.options.classes.anchor);\n            this.tabs[i].panel.addClass(this.options.classes.stateDefault).addClass(this.options.classes.panel);\n            this.tabs[i].accordionTab.addClass(this.options.classes.accordionTitle);\n            this.tabs[i].accordionAnchor.addClass(this.options.classes.anchor);\n            if(this.tabs[i].disabled) {\n                this.tabs[i].tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled);\n                this.tabs[i].accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled);\n           }\n        }\n    };\n\n    /**\n     * This function adds events to the tab elements\n     */\n    ResponsiveTabs.prototype._loadEvents = function() {\n        var _this = this;\n\n        // Define activate event on a tab element\n        var fActivate = function(e) {\n            var current = _this._getCurrentTab(); // Fetch current tab\n            var activatedTab = e.data.tab;\n\n            e.preventDefault();\n\n            // Trigger click event for whenever a tab is clicked/touched even if the tab is disabled\n            activatedTab.tab.trigger('tabs-click', activatedTab);\n\n            // Make sure this tab isn't disabled\n            if(!activatedTab.disabled) {\n\n                // Check if hash has to be set in the URL location\n                if(_this.options.setHash) {\n                    // Set the hash using the history api if available to tackle Chromes repaint bug on hash change\n                    if(history.pushState) {\n                        // Fix for missing window.location.origin in IE\n                        if (!window.location.origin) {\n                            window.location.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n                        }\n                        \n                        history.pushState(null, null, window.location.origin + window.location.pathname + window.location.search + activatedTab.selector);\n                    } else {\n                        // Otherwise fallback to the hash update for sites that don't support the history api\n                        window.location.hash = activatedTab.selector;\n                    }\n                }\n\n                e.data.tab._ignoreHashChange = true;\n\n                // Check if the activated tab isnt the current one or if its collapsible. If not, do nothing\n                if(current !== activatedTab || _this._isCollapisble()) {\n                    // The activated tab is either another tab of the current one. If it's the current tab it is collapsible\n                    // Either way, the current tab can be closed\n                    _this._closeTab(e, current);\n\n                    // Check if the activated tab isnt the current one or if it isnt collapsible\n                    if(current !== activatedTab || !_this._isCollapisble()) {\n                        _this._openTab(e, activatedTab, false, true);\n                    }\n                }\n            }\n        };\n\n        // Loop tabs\n        for (var i=0; i<this.tabs.length; i++) {\n            // Add activate function to the tab and accordion selection element\n            this.tabs[i].anchor.on(_this.options.event, {tab: _this.tabs[i]}, fActivate);\n            this.tabs[i].accordionAnchor.on(_this.options.event, {tab: _this.tabs[i]}, fActivate);\n        }\n    };\n\n    /**\n     * This function gets the tab that should be opened at start\n     * @returns {Object} Tab object\n     */\n    ResponsiveTabs.prototype._getStartTab = function() {\n        var tabRef = this._getTabRefBySelector(window.location.hash);\n        var startTab;\n\n        // Check if the page has a hash set that is linked to a tab\n        if(tabRef >= 0 && !this._getTab(tabRef).disabled) {\n            // If so, set the current tab to the linked tab\n            startTab = this._getTab(tabRef);\n        } else if(this.options.active > 0 && !this._getTab(this.options.active).disabled) {\n            startTab = this._getTab(this.options.active);\n        } else {\n            // If not, just get the first one\n            startTab = this._getTab(0);\n        }\n\n        return startTab;\n    };\n\n    /**\n     * This function sets the current state of the plugin\n     * @param {Event} e - The event that triggers the state change\n     */\n    ResponsiveTabs.prototype._setState = function(e) {\n        var $ul = $('ul:first', this.$element);\n        var oldState = this.state;\n        var startCollapsedIsState = (typeof this.options.startCollapsed === 'string');\n        var startTab;\n\n        // The state is based on the visibility of the tabs list\n        if($ul.is(':visible')){\n            // Tab list is visible, so the state is 'tabs'\n            this.state = 'tabs';\n        } else {\n            // Tab list is invisible, so the state is 'accordion'\n            this.state = 'accordion';\n        }\n\n        // If the new state is different from the old state\n        if(this.state !== oldState) {\n            // If so, the state activate trigger must be called\n            this.$element.trigger('tabs-activate-state', {oldState: oldState, newState: this.state});\n\n            // Check if the state switch should open a tab\n            if(oldState && startCollapsedIsState && this.options.startCollapsed !== this.state && this._getCurrentTab() === undefined) {\n                // Get initial tab\n                startTab = this._getStartTab(e);\n                // Open the initial tab\n                this._openTab(e, startTab); // Open first tab\n            }\n        }\n    };\n\n    /**\n     * This function opens a tab\n     * @param {Event} e - The event that triggers the tab opening\n     * @param {Object} oTab - The tab object that should be opened\n     * @param {Boolean} closeCurrent - Defines if the current tab should be closed\n     * @param {Boolean} stopRotation - Defines if the tab rotation loop should be stopped\n     */\n    ResponsiveTabs.prototype._openTab = function(e, oTab, closeCurrent, stopRotation) {\n        var _this = this;\n        var scrollOffset;\n\n        // Check if the current tab has to be closed\n        if(closeCurrent) {\n            this._closeTab(e, this._getCurrentTab());\n        }\n\n        // Check if the rotation has to be stopped when activated\n        if(stopRotation && this.rotateInterval > 0) {\n            this.stopRotation();\n        }\n\n        // Set this tab to active\n        oTab.active = true;\n        // Set active classes to the tab button and accordion tab button\n        oTab.tab.removeClass(_this.options.classes.stateDefault).addClass(_this.options.classes.stateActive);\n        oTab.accordionTab.removeClass(_this.options.classes.stateDefault).addClass(_this.options.classes.stateActive);\n\n        // Run panel transiton\n        _this._doTransition(oTab.panel, _this.options.animation, 'open', function() {\n            var scrollOnLoad = (e.type !== 'tabs-load' || _this.options.scrollToAccordionOnLoad);\n\n            // When finished, set active class to the panel\n            oTab.panel.removeClass(_this.options.classes.stateDefault).addClass(_this.options.classes.stateActive);\n\n            // And if enabled and state is accordion, scroll to the accordion tab\n            if(_this.getState() === 'accordion' && _this.options.scrollToAccordion && (!_this._isInView(oTab.accordionTab) || _this.options.animation !== 'default') && scrollOnLoad) {\n\n                // Add offset element's height to scroll position\n                scrollOffset = oTab.accordionTab.offset().top - _this.options.scrollToAccordionOffset;\n\n                // Check if the animation option is enabled, and if the duration isn't 0\n                if(_this.options.animation !== 'default' && _this.options.duration > 0) {\n                    // If so, set scrollTop with animate and use the 'animation' duration\n                    $('html, body').animate({\n                        scrollTop: scrollOffset\n                    }, _this.options.duration);\n                } else {\n                    //  If not, just set scrollTop\n                    $('html, body').scrollTop(scrollOffset);\n                }\n            }\n        });\n\n        this.$element.trigger('tabs-activate', oTab);\n    };\n\n    /**\n     * This function closes a tab\n     * @param {Event} e - The event that is triggered when a tab is closed\n     * @param {Object} oTab - The tab object that should be closed\n     */\n    ResponsiveTabs.prototype._closeTab = function(e, oTab) {\n        var _this = this;\n        var doQueueOnState = typeof _this.options.animationQueue === 'string';\n        var doQueue;\n\n        if(oTab !== undefined) {\n            if(doQueueOnState && _this.getState() === _this.options.animationQueue) {\n                doQueue = true;\n            } else if(doQueueOnState) {\n                doQueue = false;\n            } else {\n                doQueue = _this.options.animationQueue;\n            }\n\n            // Deactivate tab\n            oTab.active = false;\n            // Set default class to the tab button\n            oTab.tab.removeClass(_this.options.classes.stateActive).addClass(_this.options.classes.stateDefault);\n\n            // Run panel transition\n            _this._doTransition(oTab.panel, _this.options.animation, 'close', function() {\n                // Set default class to the accordion tab button and tab panel\n                oTab.accordionTab.removeClass(_this.options.classes.stateActive).addClass(_this.options.classes.stateDefault);\n                oTab.panel.removeClass(_this.options.classes.stateActive).addClass(_this.options.classes.stateDefault);\n            }, !doQueue);\n\n            this.$element.trigger('tabs-deactivate', oTab);\n        }\n    };\n\n    /**\n     * This function runs an effect on a panel\n     * @param {Element} panel - The HTML element of the tab panel\n     * @param {String} method - The transition method reference\n     * @param {String} state - The state (open/closed) that the panel should transition to\n     * @param {Function} callback - The callback function that is called after the transition\n     * @param {Boolean} dequeue - Defines if the event queue should be dequeued after the transition\n     */\n    ResponsiveTabs.prototype._doTransition = function(panel, method, state, callback, dequeue) {\n        var effect;\n        var _this = this;\n\n        // Get effect based on method\n        switch(method) {\n            case 'slide':\n                effect = (state === 'open') ? 'slideDown' : 'slideUp';\n                break;\n            case 'fade':\n                effect = (state === 'open') ? 'fadeIn' : 'fadeOut';\n                break;\n            default:\n                effect = (state === 'open') ? 'show' : 'hide';\n                // When default is used, set the duration to 0\n                _this.options.duration = 0;\n                break;\n        }\n\n        // Add the transition to a custom queue\n        this.$queue.queue('responsive-tabs',function(next){\n            // Run the transition on the panel\n            panel[effect]({\n                duration: _this.options.duration,\n                complete: function() {\n                    // Call the callback function\n                    callback.call(panel, method, state);\n                    // Run the next function in the queue\n                    next();\n                }\n            });\n        });\n\n        // When the panel is openend, dequeue everything so the animation starts\n        if(state === 'open' || dequeue) {\n            this.$queue.dequeue('responsive-tabs');\n        }\n\n    };\n\n    /**\n     * This function returns the collapsibility of the tab in this state\n     * @returns {Boolean} The collapsibility of the tab\n     */\n    ResponsiveTabs.prototype._isCollapisble = function() {\n        return (typeof this.options.collapsible === 'boolean' && this.options.collapsible) || (typeof this.options.collapsible === 'string' && this.options.collapsible === this.getState());\n    };\n\n    /**\n     * This function returns a tab by numeric reference\n     * @param {Integer} numRef - Numeric tab reference\n     * @returns {Object} Tab object\n     */\n    ResponsiveTabs.prototype._getTab = function(numRef) {\n        return this.tabs[numRef];\n    };\n\n    /**\n     * This function returns the numeric tab reference based on a hash selector\n     * @param {String} selector - Hash selector\n     * @returns {Integer} Numeric tab reference\n     */\n    ResponsiveTabs.prototype._getTabRefBySelector = function(selector) {\n        // Loop all tabs\n        for (var i=0; i<this.tabs.length; i++) {\n            // Check if the hash selector is equal to the tab selector\n            if(this.tabs[i].selector === selector) {\n                return i;\n            }\n        }\n        // If none is found return a negative index\n        return -1;\n    };\n\n    /**\n     * This function returns the current tab element\n     * @returns {Object} Current tab element\n     */\n    ResponsiveTabs.prototype._getCurrentTab = function() {\n        return this._getTab(this._getCurrentTabRef());\n    };\n\n    /**\n     * This function returns the next tab's numeric reference\n     * @param {Integer} currentTabRef - Current numeric tab reference\n     * @returns {Integer} Numeric tab reference\n     */\n    ResponsiveTabs.prototype._getNextTabRef = function(currentTabRef) {\n        var tabRef = (currentTabRef || this._getCurrentTabRef());\n        var nextTabRef = (tabRef === this.tabs.length - 1) ? 0 : tabRef + 1;\n        return (this._getTab(nextTabRef).disabled) ? this._getNextTabRef(nextTabRef) : nextTabRef;\n    };\n\n    /**\n     * This function returns the previous tab's numeric reference\n     * @returns {Integer} Numeric tab reference\n     */\n    ResponsiveTabs.prototype._getPreviousTabRef = function() {\n        return (this._getCurrentTabRef() === 0) ? this.tabs.length - 1 : this._getCurrentTabRef() - 1;\n    };\n\n    /**\n     * This function returns the current tab's numeric reference\n     * @returns {Integer} Numeric tab reference\n     */\n    ResponsiveTabs.prototype._getCurrentTabRef = function() {\n        // Loop all tabs\n        for (var i=0; i<this.tabs.length; i++) {\n            // If this tab is active, return it\n            if(this.tabs[i].active) {\n                return i;\n            }\n        }\n        // No tabs have been found, return negative index\n        return -1;\n    };\n\n    /**\n     * This function gets the tallest tab and applied the height to all tabs\n     */\n    ResponsiveTabs.prototype._equaliseHeights = function() {\n        var maxHeight = 0;\n\n        $.each($.map(this.tabs, function(tab) {\n            maxHeight = Math.max(maxHeight, tab.panel.css('minHeight', '').height());\n            return tab.panel;\n        }), function() {\n            this.css('minHeight', maxHeight);\n        });\n    };\n\n    //\n    // HELPER FUNCTIONS\n    //\n\n    ResponsiveTabs.prototype._isInView = function($element) {\n        var docViewTop = $(window).scrollTop(),\n            docViewBottom = docViewTop + $(window).height(),\n            elemTop = $element.offset().top,\n            elemBottom = elemTop + $element.height();\n        return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\n    };\n\n    //\n    // PUBLIC FUNCTIONS\n    //\n\n    /**\n     * This function activates a tab\n     * @param {Integer} tabRef - Numeric tab reference\n     * @param {Boolean} stopRotation - Defines if the tab rotation should stop after activation\n     */\n    ResponsiveTabs.prototype.activate = function(tabRef, stopRotation) {\n        var e = jQuery.Event('tabs-activate');\n        var oTab = this._getTab(tabRef);\n        if(!oTab.disabled) {\n            this._openTab(e, oTab, true, stopRotation || true);\n        }\n    };\n\n    /**\n     * This function deactivates a tab\n     * @param {Integer} tabRef - Numeric tab reference\n     */\n    ResponsiveTabs.prototype.deactivate = function(tabRef) {\n        var e = jQuery.Event('tabs-dectivate');\n        var oTab = this._getTab(tabRef);\n        if(!oTab.disabled) {\n            this._closeTab(e, oTab);\n        }\n    };\n\n    /**\n     * This function enables a tab\n     * @param {Integer} tabRef - Numeric tab reference\n     */\n    ResponsiveTabs.prototype.enable = function(tabRef) {\n        var oTab = this._getTab(tabRef);\n        if(oTab){\n            oTab.disabled = false;\n            oTab.tab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled);\n            oTab.accordionTab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled);\n        }\n    };\n\n    /**\n     * This function disable a tab\n     * @param {Integer} tabRef - Numeric tab reference\n     */\n    ResponsiveTabs.prototype.disable = function(tabRef) {\n        var oTab = this._getTab(tabRef);\n        if(oTab){\n            oTab.disabled = true;\n            oTab.tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled);\n            oTab.accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled);\n        }\n    };\n\n    /**\n     * This function gets the current state of the plugin\n     * @returns {String} State of the plugin\n     */\n    ResponsiveTabs.prototype.getState = function() {\n        return this.state;\n    };\n\n    /**\n     * This function starts the rotation of the tabs\n     * @param {Integer} speed - The speed of the rotation\n     */\n    ResponsiveTabs.prototype.startRotation = function(speed) {\n        var _this = this;\n        // Make sure not all tabs are disabled\n        if(this.tabs.length > this.options.disabled.length) {\n            this.rotateInterval = setInterval(function(){\n                var e = jQuery.Event('rotate');\n                _this._openTab(e, _this._getTab(_this._getNextTabRef()), true);\n            }, speed || (($.isNumeric(_this.options.rotate)) ? _this.options.rotate : 4000) );\n        } else {\n            throw new Error(\"Rotation is not possible if all tabs are disabled\");\n        }\n    };\n\n    /**\n     * This function stops the rotation of the tabs\n     */\n    ResponsiveTabs.prototype.stopRotation = function() {\n        window.clearInterval(this.rotateInterval);\n        this.rotateInterval = 0;\n    };\n\n    /**\n     * This function can be used to get/set options\n     * @return {any} Option value\n     */\n    ResponsiveTabs.prototype.option = function(key, value) {\n        if(value) {\n            this.options[key] = value;\n        }\n        return this.options[key];\n    };\n\n    /** jQuery wrapper */\n    $.fn.responsiveTabs = function ( options ) {\n        var args = arguments;\n        var instance;\n\n        if (options === undefined || typeof options === 'object') {\n            return this.each(function () {\n                if (!$.data(this, 'responsivetabs')) {\n                    $.data(this, 'responsivetabs', new ResponsiveTabs( this, options ));\n                }\n            });\n        } else if (typeof options === 'string' && options[0] !== '_' && options !== 'init') {\n            instance = $.data(this[0], 'responsivetabs');\n\n            // Allow instances to be destroyed via the 'destroy' method\n            if (options === 'destroy') {\n                // TODO: destroy instance classes, etc\n                $.data(this, 'responsivetabs', null);\n            }\n\n            if (instance instanceof ResponsiveTabs && typeof instance[options] === 'function') {\n                return instance[options].apply( instance, Array.prototype.slice.call( args, 1 ) );\n            } else {\n                return this;\n            }\n        }\n    };\n\n}(jQuery, window));\n","\r\nlet images = document.querySelectorAll('.lazy');\r\nconst observer = lozad(images);\r\nobserver.observe();\r\n\r\n$('#malls-tabs').responsiveTabs({\r\n    startCollapsed: 'tabs',\r\n    disabled: []\r\n});"]}